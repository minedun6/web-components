<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Pearson Web Component</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon">

    <!-- THESE IMPORTS ARE NECESSARY FOR PROPER RENDERING DURING DEVELOPMENT -->
    <!-- DO NOT DELETE -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i" rel="stylesheet">

    <!-- loads web component polyfills -->
    <script src="https://unpkg.com/@webcomponents/webcomponentsjs@^2/webcomponents-loader.js"></script>
    <script src="https://unpkg.com/@webcomponents/webcomponentsjs@^2/custom-elements-es5-adapter.js"></script>
    <script src="https://cdn.polyfill.io/v2/polyfill.min.js?rum=0"></script>
    <script src="https://unpkg.com/popper.js@1.14.6/dist/umd/popper.min.js"></script>
		<!-- load the web component script -->
		<!-- RENAME THIS FILE DURING DEVELOPMENT -->
		<!-- e.g., 'pearson-alert' -->

    <script src="js/dist/pearson-coachmark.js"></script>
  </head>

  <body>
  <main id="main">
    <div id="reference" class="target" style="margin:4em; width: 400px; border:1px solid gray; margin:0 auto; margin-top:200px;">
      <button id="openTop">Top Coach Mark</button>
    </div>
  </main>
  <script>
    (function (win,doc) {
      const trigger = doc.querySelector('#openTop'),
        target = doc.querySelector('#main'),
        coachMark = doc.createElement('pearson-coachmark');

        function generateCoach (opts) {
          for (let attrName in opts) {
            coachMark.setAttribute(attrName, opts[attrName])
          }
          target.appendChild(coachMark)
        }

      trigger.addEventListener('click', function (event) {
        event.stopImmediatePropagation();
        coachOne();
      });

      const coachOne = function (event) {
        generateCoach({
            position: 'top',
            trigger: '#openTop',
            reference: '#reference',
            title: 'This is the title one',
            content: 'Content for your enjoyment',
            type: 'default',
            arrow: true,
            gotIt: "Got It Dave",

          });
          coachMark.addEventListener('next', coachTwo, false);
      };

      const coachTwo = function (event) {
        coachMark.removeEventListener('next', coachTwo, false);
        generateCoach({
          position: 'bottom',
          trigger: '#openTop',
          reference: '#reference',
          title: 'This is the title two',
          content: 'Content for your enjoyment',
          type: 'informational',
          arrow: true,
          gotIt: "Got It Dave",

        });
        coachMark.addEventListener('next', coachThree, false);
      };

      const coachThree = function (event) {
        coachMark.removeEventListener('next', coachThree, false);
        generateCoach({
          position: 'left',
          trigger: '#openTop',
          reference: '#reference',
          title: 'This is the title three',
          content: 'Content for your enjoyment',
          type: 'generic',
          arrow: true,
          gotIt: "Got It Dave",
          dismiss: true
        });
      };


    })(window, document);
  </script>

  </body>
</html>
